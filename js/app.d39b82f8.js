(function(){"use strict";var e={5841:function(e,a,i){var t=i(3862),r=i(3396),o=i(7139),s=i.p+"img/loader1.c5e8a0dc.gif";const d={id:"app"},n={class:"image"},l={key:0,class:"loading",src:s},p=["src"],c={class:"info"},u=(0,r.Uk)(" Followers"),m=(0,r.Uk)(" Following"),f={key:0,class:"feed"},g=["onClick"],h={key:0},w={key:1},_={class:"input_wrapper"},b=(0,r._)("p",{class:"user_label"}," @ ",-1),F=(0,r._)("br",null,null,-1),y={key:1};function v(e,a,i,s,v,I){const P=(0,r.up)("VueRecaptcha");return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",n,[e.$store.state.loading?((0,r.wg)(),(0,r.iD)("img",l)):(0,r.kq)("",!0),(0,r._)("img",{crossorigin:"anonymous",class:"profile_pic",src:e.linkUrl},null,8,p)]),(0,r._)("div",c,[(0,r._)("p",null,[(0,r._)("strong",null,(0,o.zw)(e.$store.state.info.Followers),1),u]),(0,r._)("p",null,[(0,r._)("strong",null,(0,o.zw)(e.$store.state.info.Following),1),m])]),e.loadingFeed?((0,r.wg)(),(0,r.iD)("div",w," Loading Feed... ")):((0,r.wg)(),(0,r.iD)("div",f,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.feed,((e,a)=>((0,r.wg)(),(0,r.j4)(t.uT,{key:a},{default:(0,r.w5)((()=>[(0,r._)("div",{class:(0,o.C_)(`${e.filename.split(".jpg")[0]}`),onClick:i=>I.copy(e,a),id:"post",style:(0,o.j5)(`background-image: url(${e.url})`)},null,14,g)])),_:2},1024)))),128)),e.linkUrl&&!e.feed?((0,r.wg)(),(0,r.iD)("div",h," No posts / User is private. ")):(0,r.kq)("",!0)])),(0,r._)("form",{onSubmit:a[1]||(a[1]=(...e)=>I.search&&I.search(...e))},[(0,r._)("div",_,[b,(0,r._)("input",{type:"text",class:"user",id:"user",ref:"text",onInput:a[0]||(a[0]=(...e)=>I.handleChange&&I.handleChange(...e))},null,544)]),F,e.$store.state.loading?((0,r.wg)(),(0,r.iD)("div",y,"Loading..")):((0,r.wg)(),(0,r.iD)("input",{key:0,type:"submit",class:(0,o.C_)("submit "+(v.inactive?"inactive":""))},null,2))],32),(0,r.Wm)(P,{sitekey:v.siteKey,onVerify:I.handleVerify,onExpired:a[2]||(a[2]=e=>v.captchaVerified=!1),onError:a[3]||(a[3]=e=>v.captchaVerified=!1)},null,8,["sitekey","onVerify"])])}var I=i(7676),P=i(65),k=i(5941),A={name:"App",components:{VueRecaptcha:I.Z},watch:{linkUrl(){this.captchaVerified=!1}},computed:{...(0,P.rn)(["linkUrl","feed"])},data(){return{loading:!1,siteKey:"6LeJ4GshAAAAAO15LRUPXSNyPi7pRdGdWbrbbCHt",inactive:!0,captchaVerified:!0}},methods:{handleVerify(){this.captchaVerified=!0,this.inactive=!1},handleChange(){this.$refs.text.value.length>0&&this.captchaVerified?this.inactive=!1:this.inactive=!0},copy(e,a){var i=[...document.getElementsByClassName("wcpa_form_item wcpa_type_text")].filter((e=>e.innerText.includes("URL")))[0].getElementsByTagName("input")[0];i.value=`https://www.instagram.com/p/${e.filename.split(".jpg")[0]}`,k.log(i,a)},search(e){e.preventDefault(),this.$store.commit("updateLoading",!0),this.$api.profile_pic(this.$refs.text.value)}},mounted(){}},R=i(89);const T=(0,R.Z)(A,[["render",v]]);var $=T;i(6027);const j=(0,P.MT)({state(){return{linkUrl:"",feed:[],loading:!1,igID:"",info:{Following:0,Followers:0},loadingFeed:!1}},mutations:{updateLinkUrl(e,a){e.linkUrl=a},updateLoading(e,a){e.loading=a},updateFeed(e,a){e.feed=a},updateIgID(e,a){e.igID=a},isPrivateProfile(e,a){e.isPrivate=a},updateInfo(e,a){e.info=a},setLoadingFeed(e,a){e.loadingFeed=a}}}),D="keyaJEowLnEfKAamU";var U="tblSUNsZFXUQ8DS75";const{default:X}=i(6265),C="appYUpR8L67hyxGt6",x=`https://api.airtable.com/v0/${C}/${U}?api_key=${D}`;var E=i(1059),L=new E({apiKey:D}).base(C),K=new class{constructor(){this.records,this.apiCounter=0,this.postApiCounter=0,this.options=[],this.idOptions=[],this.init()}init(){X.get(x).then((e=>{this.records=e.data.records}))}async id(e){return new Promise((a=>{const t=i(6265),r={method:"GET",url:`https://instagram174.p.rapidapi.com/api/v1/user/${e}/id`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram174.p.rapidapi.com"}};t.request(r).then((function(e){a(e.data.result)})).catch((function(e){a("")}))}))}processIdUrl(e,a){return new Promise((i=>{switch(e){case"instagram174":i({url:a.data.data.user.profile_pic_url,id:a.data.fbid});break}}))}uploadFeed(e,a){var i=[{method:"GET",url:`https://instagram203.p.rapidapi.com/userpost/${e}/50/%7Bend_cursor%7D`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram203.p.rapidapi.com"},id:"instagram203"},{method:"GET",url:"https://instagram-best-experience.p.rapidapi.com/feeds",params:{user_id:e,next_max_id:"100"},headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-best-experience.p.rapidapi.com"},id:"instagram-best-experience"},{method:"GET",url:"https://instagram28.p.rapidapi.com/medias",params:{user_id:e,batch_size:"50"},headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram28.p.rapidapi.com"},id:"instagram28"}],t=i[this.postApiCounter].id;X.request(i[this.postApiCounter]).then((function(e){var i;switch(t){case"instagram-best-experience":i=e.data.items.map((e=>({filename:`${e.code}.jpg`,url:e.image_versions2.candidates?e.image_versions2.candidates[0].url:""})));break;case"instagram203":i=e.data.data.edges.map((e=>({filename:`${e.node.shortcode}.jpg`,url:e.node.display_url})));break;case"instagram28":i=e.data.data.user.edge_owner_to_timeline_media.edges.map((e=>({filename:`${e.node.shortcode}.jpg`,url:e.node.display_url})));break;default:i="default";break}L("Table 1").update([{id:a,fields:{Feed_Images:i}}]),setTimeout((()=>{L("Table 1").find(a).then((e=>{j.commit("updateFeed",e.fields.Feed_Images)})),j.commit("updateLoading",!1),j.commit("setLoadingFeed",!1)}),5e3)}),(t=>{this.postApiCounter++,this.postApiCounter<i.length&&this.uploadFeed(e,a),j.commit("isPrivateProfile",!0)}))}async profile_pic(e){return new Promise((()=>{this.init(),j.commit("setLoadingFeed",!0);var a=this.records.filter((a=>a.fields.Username===e));a.length>0?(a[0].fields.ID?j.commit("updateIgID",a[0].fields.ID):this.id(e).then((e=>{this.uploadIgID(a[0].id,e)})),a[0].fields.Following&&a[0].fields.Followers?j.commit("updateInfo",{Following:a[0].fields.Following,Followers:a[0].fields.Followers}):this.uploadFollowInfo(a[0].id,a[0].fields),this.getFeed(a[0]),a[0].fields.Profile_Picture&&j.commit("updateLinkUrl",a[0].fields.Profile_Picture[0].url)):(this.options=[{method:"GET",url:`https://instagramdimashirokovv1.p.rapidapi.com/user/${e}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"InstagramdimashirokovV1.p.rapidapi.com"},id:"v.sobolev"},{method:"GET",url:`"https://instagram-fast.p.rapidapi.com/profile/"${e}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-fast.p.rapidapi.com"},id:"instagram-fast"},{method:"GET",url:"https://instagram-scraper2.p.rapidapi.com/user_info",params:{user_name:e},headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-scraper2.p.rapidapi.com"},id:"instagram-scraper2"},{method:"GET",url:`https://instagram-profile1.p.rapidapi.com/getprofile/${e}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-profile1.p.rapidapi.com"},id:"instagram-profile1"},{method:"GET",url:"https://instagram-looter2.p.rapidapi.com/profile",params:{username:e},headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-looter2.p.rapidapi.com"},id:"instagram-looter2"},{method:"GET",url:`https://instagram-data10.p.rapidapi.com/api/rapid_api/instagram_profile/${e}`,headers:{id:e,"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-data10.p.rapidapi.com"},id:"instagram-data10"},{method:"GET",url:`https://instagram-scrapper-bulk.p.rapidapi.com/profile/${e}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-scrapper-bulk.p.rapidapi.com"},id:"instagram-scrapper-bulk"}],X.request(this.options[this.apiCounter]).then((a=>{this.processUrl(this.options[this.apiCounter].id,e,a).then((a=>this.uploadToAirtable(e,a).then((e=>this.findInAirtable(e).then((e=>{j.commit("updateLinkUrl",e.fields.Profile_Picture[0].url),j.commit("updateInfo",{Following:e.fields.Following,Followers:e.fields.Followers}),this.getFeed(e)}))))))}),(()=>{this.apiCounter+=1,this.apiCounter<=this.options.length-1&&this.profile_pic(e)})))}))}getFeed(e){e.fields.Feed_Images?(j.commit("updateFeed",e.fields.Feed_Images),j.commit("updateLoading",!1),j.commit("setLoadingFeed",!1)):e.fields.ID&&this.uploadFeed(e.fields.ID,e.id)}processUrl(e,a,i){return new Promise((t=>{switch(e){case"instagram-fast":t({url:i.data.data.user.profile_pic_url,id:i.data.id,Followers:i.data.edge_followed_by.count,Following:i.data.edge_follow.count});break;case"instagram-scraper2":t({url:i.data.data.user.profile_pic_url,id:i.data.data.user.id,Followers:i.data.data.user.edge_followed_by.count,Following:i.data.data.user.edge_follow.count});break;case"instagram-profile1":t({url:i.data.profile_pic_url,id:i.data.id,Followers:i.data.edge_followed_by.count,Following:i.data.edge_follow.count});break;case"instagram-data10":t({url:i.data.data.profile_picture,id:i.data.data.id,Followers:i.data.data.edge_followed_by.count,Following:i.data.data.edge_follow.count});break;case"instagram-scrapper-bulk":t({url:i.data.data.user.profile_pic_url,id:i.data.data.user.id,Followers:i.data.data.edge_followed_by.count,Following:i.data.data.edge_follow.count});break;case"v.sobolev":t({url:i.data.profile_pic_url,id:i.data.id,Followers:i.data.edge_followed_by.count,Following:i.data.edge_follow.count});break;case"instagram-scraper-2022":this.id(a).then((e=>{t({url:i.data.user.profile_pic_url,id:e,Followers:i.data.user.edge_followed_by.count,Following:i.data.user.edge_follow.count})}));break;case"instagram-looter2":t({url:i.data.profile_pic_url,id:i.data.id,Followers:i.data.edge_followed_by.count,Following:i.data.edge_follow.count});break}}))}uploadToAirtable(e,a){return new Promise((i=>[L("Table 1").create([{fields:{Username:e,Profile_Picture:[{url:a.url}],ID:parseInt(a.id),Following:parseInt(a.Following),Followers:parseInt(a.Followers)}}],((e,a)=>{setTimeout((()=>{i(a)}),1e4)}))]))}findInAirtable(e){return new Promise(((a,i)=>{L("Table 1").find(e[0].id).then((e=>{a(e)}),(e=>{i(e)}))}))}async uploadIgID(e,a){return new Promise((i=>{L("Table 1").update([{id:e,fields:{ID:parseInt(a)}}]),i()}))}async uploadFollowInfo(e,a){return new Promise((i=>{L("Table 1").update([{id:e,fields:{Following:parseInt(a.Following),Followers:parseInt(a.Followers)}}]),i()}))}async uploadProfilePic(e,a){return new Promise((i=>{L("Table 1").update([{id:e,fields:{Profile_Picture:[{url:a}],Airtable_ID:e}}]),i(a)}))}};const G=(0,t.ri)($);G.config.globalProperties.$api=K,G.config.globalProperties.$imageUrl="link",G.use(j),G.mount("#app")}},a={};function i(t){var r=a[t];if(void 0!==r)return r.exports;var o=a[t]={exports:{}};return e[t](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(a,t,r,o){if(!t){var s=1/0;for(p=0;p<e.length;p++){t=e[p][0],r=e[p][1],o=e[p][2];for(var d=!0,n=0;n<t.length;n++)(!1&o||s>=o)&&Object.keys(i.O).every((function(e){return i.O[e](t[n])}))?t.splice(n--,1):(d=!1,o<s&&(s=o));if(d){e.splice(p--,1);var l=r();void 0!==l&&(a=l)}}return a}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[t,r,o]}}(),function(){i.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(a,{a:a}),a}}(),function(){i.d=function(e,a){for(var t in a)i.o(a,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){i.p=""}(),function(){var e={143:0};i.O.j=function(a){return 0===e[a]};var a=function(a,t){var r,o,s=t[0],d=t[1],n=t[2],l=0;if(s.some((function(a){return 0!==e[a]}))){for(r in d)i.o(d,r)&&(i.m[r]=d[r]);if(n)var p=n(i)}for(a&&a(t);l<s.length;l++)o=s[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(p)},t=self["webpackChunktestapi"]=self["webpackChunktestapi"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=i.O(void 0,[998],(function(){return i(5841)}));t=i.O(t)})();
//# sourceMappingURL=app.d39b82f8.js.map