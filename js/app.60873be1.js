(function(){"use strict";var a={3239:function(a,e,i){var r=i(3862),t=i(3396),s=i(7139),n=i.p+"img/loader1.c5e8a0dc.gif";const o={id:"app"},p={class:"image"},c={key:0,class:"loading",src:n},d=["src"],l=(0,t._)("label",{for:"user"}," Enter your Instagram handle. ",-1),u={class:"input_wrapper"},m=(0,t._)("p",{class:"user_label"}," @ ",-1),h=(0,t._)("br",null,null,-1),f={key:1};function g(a,e,i,r,n,g){const b=(0,t.up)("VueRecaptcha");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",p,[a.$store.state.loading?((0,t.wg)(),(0,t.iD)("img",c)):(0,t.kq)("",!0),(0,t._)("img",{crossorigin:"anonymous",class:"profile_pic",src:a.$store.state.linkUrl},null,8,d)]),(0,t._)("form",{onSubmit:e[1]||(e[1]=(...a)=>g.search&&g.search(...a))},[l,(0,t._)("div",u,[m,(0,t._)("input",{type:"text",class:"user",id:"user",ref:"text",onInput:e[0]||(e[0]=(...a)=>g.handleChange&&g.handleChange(...a))},null,544)]),h,a.$store.state.loading?((0,t.wg)(),(0,t.iD)("div",f,"Loading..")):((0,t.wg)(),(0,t.iD)("input",{key:0,type:"submit",class:(0,s.C_)("submit "+(n.inactive?"inactive":""))},null,2))],32),(0,t.Wm)(b,{sitekey:n.siteKey,onVerify:e[2]||(e[2]=a=>n.captchaVerified=!0)},null,8,["sitekey"])])}var b=i(7676),v=i(65),_={name:"App",components:{VueRecaptcha:b.Z},watch:{linkUrl(){this.captchaVerified=!1}},computed:{...(0,v.rn)(["linkUrl"])},data(){return{loading:!1,siteKey:"6Ldv4YogAAAAAFsrW6R8R7mM5e-ZeImoInhDnZDQ",inactive:!0,captchaVerified:!1}},methods:{handleChange(){this.$refs.text.value.length>0&&this.captchaVerified?this.inactive=!1:this.inactive=!0},search(a){a.preventDefault(),!this.loading&&0!==this.$refs.text.value.length&&this.captchaVerified&&(this.$store.commit("updateLoading",!0),this.$api.profile_pic(this.$refs.text.value))}},mounted(){}},k=i(89);const P=(0,k.Z)(_,[["render",g]]);var y=P;const A=(0,v.MT)({state(){return{linkUrl:"",loading:!1}},mutations:{updateLinkUrl(a,e){a.linkUrl=e},updateLoading(a,e){a.loading=e}}});var w=i(5941);const I="keyaJEowLnEfKAamU";var R="tblSUNsZFXUQ8DS75";const{default:$}=i(6265),T="appYUpR8L67hyxGt6",U=`https://api.airtable.com/v0/${T}/${R}?api_key=${I}`;var X=i(1059),j=new X({apiKey:I}).base(T),C=new class{constructor(){this.records,this.apiCounter=0,this.options=[],this.init()}init(){$.get(U).then((a=>{this.records=a.data.records}))}async profile_pic(a){return new Promise((e=>{this.init();var i=this.records.filter((e=>e.fields.Username===a));i.length>0?i[0].fields.Profile_Picture&&(A.commit("updateLinkUrl",i[0].fields.Profile_Picture[0].url),A.commit("updateLoading",!1)):(this.options=[{method:"GET",url:`https://instagramdimashirokovv1.p.rapidapi.com/user/${a}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"InstagramdimashirokovV1.p.rapidapi.com"},id:"v.sobolev"},{method:"GET",url:`"https://instagram-fast.p.rapidapi.com/profile/"${a}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-fast.p.rapidapi.com"},id:"instagram-fast"},{method:"GET",url:"https://instagram-scraper2.p.rapidapi.com/user_info",params:{user_name:a},headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-scraper2.p.rapidapi.com"},id:"instagram-scraper2"},{method:"GET",url:`https://instagram-profile1.p.rapidapi.com/getprofile/${a}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-profile1.p.rapidapi.com"},id:"instagram-profile1"},{method:"GET",url:"https://instagram-looter2.p.rapidapi.com/profile",params:{username:a},headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-looter2.p.rapidapi.com"},id:"instagram-looter2"},{method:"GET",url:"https://instagram-scraper-2022.p.rapidapi.com/ig/info_username/",params:{user:"sanembahcekapili"},headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-scraper-2022.p.rapidapi.com"},id:"instagram-scraper-2022"},{method:"GET",url:`https://instagram-data10.p.rapidapi.com/api/rapid_api/instagram_profile/${a}`,headers:{id:a,"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-data10.p.rapidapi.com"},id:"instagram-data10"},{method:"GET",url:`https://instagram-scrapper-bulk.p.rapidapi.com/profile/${a}`,headers:{"X-RapidAPI-Key":"6d50373928msh8ea7650abbc2053p1c1465jsn8d11a1823388","X-RapidAPI-Host":"instagram-scrapper-bulk.p.rapidapi.com"},id:"instagram-scrapper-bulk"}],$.request(this.options[this.apiCounter]).then((e=>{this.processUrl(this.options[this.apiCounter].id,e).then((e=>this.uploadToAirtable(a,e).then((a=>this.findInAirtable(a).then((a=>{A.commit("updateLinkUrl",a.fields.Profile_Picture[0].url),A.commit("updateLoading",!1)}))))))}),(()=>{w.log("error! ",this.apiCounter),this.apiCounter+=1,this.apiCounter<=this.options.length-1&&this.profile_pic(a)})))}))}processUrl(a,e){return new Promise((i=>{switch(a){case"instagram-fast":i(e.data.data.user.profile_pic_url);break;case"instagram-scraper2":i(e.data.data.user.profile_pic_url);break;case"instagram-profile1":i(e.data.profile_pic_url);break;case"instagram-data10":i(e.data.data.profile_picture);break;case"instagram-scrapper-bulk":i(e.data.data.user.profile_pic_url);break;case"v.sobolev":i(e.data.profile_pic_url);break;case"instagram-scraper-2022":i(e.data.user.profile_pic_url);break;case"instagram-looter2":i(e.data.profile_pic_url);break}}))}uploadToAirtable(a,e){return new Promise((i=>[j("Table 1").create([{fields:{Username:a,Profile_Picture:[{url:e}]}}],((a,e)=>{setTimeout((()=>{i(e)}),1e4)}))]))}findInAirtable(a){return new Promise(((e,i)=>{j("Table 1").find(a[0].id).then((a=>{e(a)}),(a=>{w.warn(a),i(a)}))}))}async uploadProfilePic(a,e){return new Promise((i=>{j("Table 1").update([{id:a,fields:{Profile_Picture:[{url:e}]}}]),i(e)}))}};const E=(0,r.ri)(y);E.config.globalProperties.$api=C,E.config.globalProperties.$imageUrl="link",E.use(A),E.mount("#app")}},e={};function i(r){var t=e[r];if(void 0!==t)return t.exports;var s=e[r]={exports:{}};return a[r](s,s.exports,i),s.exports}i.m=a,function(){var a=[];i.O=function(e,r,t,s){if(!r){var n=1/0;for(d=0;d<a.length;d++){r=a[d][0],t=a[d][1],s=a[d][2];for(var o=!0,p=0;p<r.length;p++)(!1&s||n>=s)&&Object.keys(i.O).every((function(a){return i.O[a](r[p])}))?r.splice(p--,1):(o=!1,s<n&&(n=s));if(o){a.splice(d--,1);var c=t();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=a.length;d>0&&a[d-1][2]>s;d--)a[d]=a[d-1];a[d]=[r,t,s]}}(),function(){i.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return i.d(e,{a:e}),e}}(),function(){i.d=function(a,e){for(var r in e)i.o(e,r)&&!i.o(a,r)&&Object.defineProperty(a,r,{enumerable:!0,get:e[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){i.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){i.p=""}(),function(){var a={143:0};i.O.j=function(e){return 0===a[e]};var e=function(e,r){var t,s,n=r[0],o=r[1],p=r[2],c=0;if(n.some((function(e){return 0!==a[e]}))){for(t in o)i.o(o,t)&&(i.m[t]=o[t]);if(p)var d=p(i)}for(e&&e(r);c<n.length;c++)s=n[c],i.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return i.O(d)},r=self["webpackChunktestapi"]=self["webpackChunktestapi"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=i.O(void 0,[998],(function(){return i(3239)}));r=i.O(r)})();
//# sourceMappingURL=app.60873be1.js.map